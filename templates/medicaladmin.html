{% extends 'medical_reg_temp.html' %}
{% block m1 %}
<link href="../static/css/medical_reg.css" type="text/css" rel="stylesheet"/>
<h1>medical Registration</h1>
<form method="post" action="medical_reg" onsubmit="return A()">
    <p> medical_name:
        <input type="text" name="T1" id="txt1"><span id="sp1"></span>
    </p>
    <p> owner_name:
        <input type="text" name="T2" id="txt2"><span id="sp2"></span>
    </p>
    <p>address:
        <input type="text" name="T3" id="txt3"><span id="sp3"></span>
    </p>
    <p>contact:
        <input type="text" name="T4" id="txt4"><span id="sp4"></span>
    </p>
    <p> licence_no:
        <input type="text" name="T5" id="txt5"><span id="sp5"></span>
    </p>
    <p>email:
        <input type="text" name="T6" id="txt6" onkeyup="B()"><span id="sp6"></span>
    </p>
    <p>password:
        <input type="text" name="T7" id="txt7"><span id="sp7"></span>
    </p>
     <p> confirm_Password:
        <input type="text" name="T8" id="txt8"><span id="sp8"></span>
    </p>

    <p>
        <input type="submit" name="B1" id="Btn1" value="Register">
    </p>
</form>

<script>
    function B() {
        let t6 = document.getElementById("txt6");
        let s6 = document.getElementById("sp6");
        let v6 = t6.value;

        let pat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        let ans = pat.test(v6);
        if (ans) {
            s6.innerHTML = "";
        } else {
            s6.innerHTML = "Enter valid Email Id";
        }
    }

    function A() {
        var t1 = document.getElementById("txt1"); // Medical Name
        var t2 = document.getElementById("txt2"); // Owner Name
        var t3 = document.getElementById("txt3"); // Address
        var t4 = document.getElementById("txt4"); // Contact
        var t5 = document.getElementById("txt5"); // Licence No
        var t6 = document.getElementById("txt6"); // Email
        var t7 = document.getElementById("txt7"); // Password
        var t8 = document.getElementById("txt8"); // Confirm Password

        var e1 = document.getElementById("sp1");
        var e2 = document.getElementById("sp2");
        var e3 = document.getElementById("sp3");
        var e4 = document.getElementById("sp4");
        var e5 = document.getElementById("sp5");
        var e6 = document.getElementById("sp6");
        var e7 = document.getElementById("sp7");
        var e8 = document.getElementById("sp8");

        var v1 = t1.value;
        var v2 = t2.value;
        var v3 = t3.value;
        var v4 = t4.value;
        var v5 = t5.value;
        var v6 = t6.value;
        var v7 = t7.value;
        var v8 = t8.value;

        e1.innerHTML = "";
        e2.innerHTML = "";
        e3.innerHTML = "";
        e4.innerHTML = "";
        e5.innerHTML = "";
        e6.innerHTML = "";
        e7.innerHTML = "";
        e8.innerHTML = "";

        if (v1 === "") {
            e1.innerHTML = "Enter Medical Name";
            t1.focus();
            return false;
        } else if (!check_alpha(v1)) {
            e1.innerHTML = "Only Alphabets";
            t1.focus();
            return false;
        } else if (v2 === "") {
            e2.innerHTML = "Enter Owner Name";
            t2.focus();
            return false;
        } else if (!check_alpha(v2)) {
            e2.innerHTML = "Only Alphabets";
            t2.focus();
            return false;
        } else if (v3 === "") {
            e3.innerHTML = "Enter Address";
            t3.focus();
            return false;
        } else if (v4 === "") {
            e4.innerHTML = "Enter Contact";
            t4.focus();
            return false;
        } else if (!check_contact(v4)) {
            e4.innerHTML = "Only numbers, must be 10 digits starting with 6-9";
            t4.focus();
            return false;
        } else if (v5 === "") {
            e5.innerHTML = "Enter Licence Number";
            t5.focus();
            return false;
        } else if (v6 === "") {
            e6.innerHTML = "Enter Email";
            t6.focus();
            return false;
        } else if (v7 === "") {
            e7.innerHTML = "Enter Password";
            t7.focus();
            return false;
        } else if (v8 === "") {
            e8.innerHTML = "Enter Confirm Password";
            t8.focus();
            return false;
        } else if (!match_password(v7, v8)) {
            t7.value = "";
            t8.value = "";
            e7.innerHTML = "Password not matched";
            t7.focus();
            return false;
        }

        return true;
    }

    function check_alpha(name) {
        return /^[A-Za-z ]+$/.test(name);
    }

    function check_contact(number) {
        return /^[6-9][0-9]{9}$/.test(number);
    }

    function match_password(p1, p2) {
        return p1 === p2;
    }
</script>

{% if project %}
    <h3>{{project}}</h3>
{% endif %}
{% endblock %}